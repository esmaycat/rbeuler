ones = { 0 => 0, 1 => 3, 2 => 3, 3 => 5, 4 => 4, 5 => 4, 6 => 3, 7 => 5, 8 => 5, 9 => 4 }
tens = { 0 => 0, 2 => 6, 3 => 6, 4 => 5, 5 => 5, 6 => 5, 7 => 7, 8 => 6, 9 => 6 }
teens = { 0 => 3, 1 => 6, 2 => 6, 3 => 8, 4 => 8, 5 => 7, 6 => 7, 7 => 9, 8 => 8, 9 => 8 }

puts((1..1000).map do |n|
  o = n % 10
  t = n / 10 % 10
  h = n / 100

  next 11 if h == 10

  s = t == 1 ? teens[o] : tens[t] + ones[o]
  if h.zero?
    s
  else
    s + (o.zero? && t.zero? ? 7 : 10) + ones[h]
  end
end.sum)
